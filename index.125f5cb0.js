!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a),a("cWifi"),a("iNWLi");var n=a("cWifi");function s(e){for(var t=[],r=document.getElementsByClassName("select-items"),a=document.getElementsByClassName("select-selected"),n=r.length,s=a.length,i=0;i<s;i++)e==a[i]?t.push(i):a[i].classList.remove("select-arrow-active");for(var c=0;c<n;c++)t.indexOf(c)&&r[c].classList.add("select-hide")}function i(e){switch(document.querySelector(".custom-select.".concat(e)).querySelector(".select-selected").textContent){case"Year":return"";case"2022":return"&primary_release_date.gte=2022-01-01";case"2021":return"&primary_release_year=2021";case"2020":return"&primary_release_year=2020";case"2016-19":return"&primary_release_date.gte=2016-01-01&primary_release_date.lte=2019-12-31";case"2010-15":return"&primary_release_date.gte=2010-01-01&primary_release_date.lte=2015-12-31";case"2000s":return"&primary_release_date.gte=2000-01-01&primary_release_date.lte=2009-12-31";case"1990s":return"&primary_release_date.gte=1990-01-01&primary_release_date.lte=1999-12-31";case"1980s":return"&primary_release_date.gte=1980-01-01&primary_release_date.lte=1989-12-31";case"1970s":return"&primary_release_date.gte=1970-01-01&primary_release_date.lte=1979-12-31";case"1960s":return"&primary_release_date.lte=1969-12-31"}}function c(){for(var e=function(e){var r=t[e].getElementsByTagName("select")[0],a=r.length,n=document.createElement("DIV");n.setAttribute("class","select-selected"),n.innerHTML=r.options[0].innerHTML,t[e].appendChild(n);var i=document.createElement("DIV");i.setAttribute("class","select-items select-hide"),r.array=[],r.array.push(0);for(var c=1;c<a;c++){var o=document.createElement("DIV");o.innerHTML=r.options[c].innerHTML,1===c?(r.array.push(1),o.setAttribute("class","same-as-selected")):r.array.push(0),o.addEventListener("click",(function(e){for(var t=this.parentNode.previousSibling,n=1;n<a;n++)if(r.options[n].innerHTML===this.innerHTML){if(1===n){r.array[1]||(r.array[1]=1,r.array[0]=0,i.childNodes[0].setAttribute("class","same-as-selected"));for(var s=2;s<a;s++)r.array[s]&&(i.childNodes[s-1].removeAttribute("class"),r.array[s]=0)}else r.array[1]&&(i.childNodes[0].removeAttribute("class"),r.array[1]=0),r.array[n]=1-r.array[n],r.array[n]?(r.array[0]+=1,i.childNodes[n-1].setAttribute("class","same-as-selected")):(r.array[0]-=1,i.childNodes[n-1].removeAttribute("class")),0===r.array[0]&&(r.array[1]=1,i.childNodes[0].setAttribute("class","same-as-selected"));t.innerHTML=l(r,a);break}})),i.appendChild(o)}t[e].appendChild(i),n.addEventListener("click",(function(e){e.stopPropagation(),s(this),this.nextSibling.classList.remove("select-hide"),this.classList.add("select-arrow-active")}))},t=document.getElementsByClassName("custom-multi-select"),r=t.length,a=0;a<r;a++)e(a)}function l(e,t){if(0===e.array[0])return"Genres";for(var r="",a=2;a<t;a+=1)if(e.array[a]){r=e.options[a].innerHTML;break}return 1===e.array[0]?r:"".concat(r,", +").concat(e.array[0]-1)}function o(e){var t=document.querySelector(".custom-multi-select.".concat(e)).getElementsByTagName("select")[0],r="";if(0!==t.array[0])for(var a=2;a<t.length;a+=1)t.array[a]&&(""!==r&&(r+=","),r+=t.options[a].value);return r}a("j1lrD"),document.addEventListener("click",s);n=a("cWifi");function u(e){var t=function(){var e='<select><option value="Genres">Genres</option><option value="None">None</option>';return e+=n.requestData.genres.map((function(e){var t=e.id,r=e.name;return'<option value="'.concat(t,'">').concat(r,"</option>")})).join(""),e+="</select>"}();document.querySelector(".custom-multi-select.".concat(e)).innerHTML=t,c()}!function(){for(var e=function(e){var r=t[e].getElementsByTagName("select")[0],a=r.length,n=document.createElement("DIV");n.setAttribute("class","select-selected"),n.innerHTML=r.options[r.selectedIndex].innerHTML,t[e].appendChild(n);var i=document.createElement("DIV");i.setAttribute("class","select-items select-hide"),r.selectedIndex=0;for(var c=1;c<a;c++){var l=document.createElement("DIV");l.innerHTML=r.options[c].innerHTML,1===c&&l.setAttribute("class","same-as-selected"),l.addEventListener("click",(function(e){for(var t=this.parentNode.previousSibling,n=0;n<a;n++)if(r.options[n].innerHTML===this.innerHTML){r.selectedIndex=n,t.innerHTML="None"===this.innerHTML?"Year":this.innerHTML;for(var s=this.parentNode.getElementsByClassName("same-as-selected"),i=s.length,c=0;c<i;c++)s[c].removeAttribute("class");this.setAttribute("class","same-as-selected");break}t.click()})),i.appendChild(l)}t[e].appendChild(i),n.addEventListener("click",(function(e){e.stopPropagation(),s(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))},t=document.getElementsByClassName("custom-select"),r=t.length,a=0;a<r;a++)e(a)}(),document.querySelector(".filter-btn").addEventListener("click",(function(e){var t=i("filter-years"),r=o("filter-genres");n.requestData.page=1,n.requestData.discover="",r.length&&(n.requestData.discover="&with_genres=".concat(r)),n.requestData.discover+=t,n.requestData.discover?(0,n.getServerData)(n.requestTypes.DISCOVER).then((function(e){(0,n.renderMoviesMarkup)(e)})):(0,n.getServerData)(n.requestTypes.TRENDING).then((function(e){(0,n.renderMoviesMarkup)(e)}))})),document.querySelector(".header__navigation-button-filter").addEventListener("click",(function(e){document.querySelector(".filter__container").classList.toggle("visually-hidden")}));var d=a("jcFG7");(0,n.getServerData)(n.requestTypes.GENRE).then((function(e){return n.requestData.genres=e.genres,u("filter-genres"),!0})).then((function(){n.requestData.page=1,(0,n.getServerData)(n.requestTypes.TRENDING).then((function(e){(0,n.renderMoviesMarkup)(e)})).then((function(){console.log(n.requestData.movies.total_pages),(0,d.makePaginationBtn)(n.requestData.movies.total_pages),(0,d.makePagination)(n.requestData.movies.total_pages,20)}))}));n=a("cWifi");a("j1lrD"),a("jcFG7");var m=document.querySelector(".header__form-button"),p=document.querySelector(".header__form-input");document.querySelector(".header__text-warning");m.addEventListener("click",(function(e){e.preventDefault(),""!==p.value&&" "!==p.value&&(n.requestData.search="".concat(p.value),n.requestData.page=1,(0,n.getServerData)(n.requestTypes.SEARCH).then((function(e){(0,n.renderMoviesMarkup)(e),p.value=""})))})),a("3wJrr"),a("6Sco9"),a("j1lrD"),a("aSICH"),a("jcFG7"),a("cSEba"),a("ghI91")}();
//# sourceMappingURL=index.125f5cb0.js.map
