!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);var n=a("cWifi");a("iNWLi");a("cWifi");var s=a("j1lrD"),o=(n=a("cWifi"),a("l3CR8")),u=a("gsnYQ"),i=a("5zZao");function c(e){var t=function(){var e='<select><option value="Genres">Genres</option><option value="None">None</option>';return e+=n.requestData.genres.map((function(e){var t=e.id,r=e.name;return'<option value="'.concat(t,'">').concat(r,"</option>")})).join(""),e+="</select>"}();document.querySelector(".custom-multi-select.".concat(e)).innerHTML=t,(0,o.createCustomMultiSelect)(),(0,o.createCustomOneSelect)()}document.querySelector(".filter-btn-use").addEventListener("click",(function(e){n.requestData.idxYears=(0,o.getOptionNum)("filter-years");var t=(0,o.getOption)("filter-years");n.requestData.valuesGenres=(0,o.getMultiOption)("filter-genres"),n.requestData.page=1,n.requestData.discover="",n.requestData.valuesGenres.length&&(n.requestData.discover="&with_genres=".concat(n.requestData.valuesGenres)),n.requestData.discover+=t,n.requestData.discover?(0,n.getServerData)(n.requestTypes.DISCOVER).then((function(e){f.currentPage=1,f.setTotalPages(Math.min(500,e.total_pages)),(0,n.renderMoviesMarkup)(e)})).catch((function(e){return(0,i.setErrorMessage)(e.message)})):(0,n.getServerData)(n.requestTypes.TRENDING).then((function(e){f.currentPage=1,f.setTotalPages(Math.min(500,e.total_pages)),(0,n.renderMoviesMarkup)(e)})).catch((function(e){return(0,i.setErrorMessage)(e.message)}))})),document.querySelector(".filter-btn-reset").addEventListener("click",(function(e){(0,o.setOption)(u.classYears,0),(0,o.setMultiOption)(u.classGenres,""),n.requestTypes.page=1,(0,n.getServerData)(n.requestTypes.TRENDING).then((function(e){f.currentPage=1,f.setTotalPages(Math.min(500,e.total_pages)),(0,n.renderMoviesMarkup)(e)})).catch((function(e){return(0,i.setErrorMessage)(e.message)}))})),document.querySelector(".header__navigation-button-filter").addEventListener("click",(function(e){document.querySelector(".filter__container").classList.toggle("visually-hidden")}));i=a("5zZao");var l=document.querySelector(".header__form-button"),g=document.querySelector(".header__form-input");document.querySelector(".header__text-warning");l.addEventListener("click",(function(e){e.preventDefault(),""!==g.value&&" "!==g.value&&(n.requestData.search="".concat(g.value),n.requestData.page=1,(0,n.getServerData)(n.requestTypes.SEARCH).then((function(e){(0,s.spinnerOn)(),f.currentPage=1,f.setTotalPages(Math.min(500,e.total_pages)),(0,n.renderMoviesMarkup)(e),g.value=""})).catch((function(e){return(0,i.setErrorMessage)(e.message)})))})),a("l3CR8");u=a("gsnYQ");a("3wJrr");var d=a("6Sco9");d=a("6Sco9");a("j1lrD"),a("aSICH"),a("cSEba"),a("ghI91");var v=a("jcFG7"),f=(u=a("gsnYQ"),i=a("5zZao"),i=a("5zZao"),new(0,v.Pagination)(document.getElementById("pagination"),{countPoint:5,totalPages:10,onShow:function(e){n.requestData.page=e,(0,n.getNextServerData)().then((function(e){(0,n.renderMoviesMarkup)(e)}))}}));(0,n.getServerData)(n.requestTypes.GENRE).then((function(e){n.requestData.genres=e.genres,c("filter-genres")})).then((function(){var e=(0,d.load)("config");e?(n.requestData.page=e.requestData.page,n.requestData.request=e.requestData.request,n.requestData.discover=e.requestData.discover,n.requestData.id=e.requestData.id,n.requestData.search=e.requestData.search,n.requestData.movies=e.requestData.movies,n.requestData.genres=e.requestData.genres,n.requestData.movie=e.requestData.movie,n.requestData.videos=e.requestData.videos,f.currentPage=n.requestData.page,(0,n.getNextServerData)().then((function(e){f.setTotalPages(Math.min(500,e.total_pages)),(0,n.renderMoviesMarkup)(e)})).catch((function(e){return(0,i.setErrorMessage)(e.message)}))):(n.requestData.page=1,(0,n.getServerData)(n.requestTypes.TRENDING).then((function(e){n.requestData.movies=e,f.currentPage=1,f.setTotalPages(Math.min(500,e.total_pages)),(0,u.saveConfig)(),(0,n.renderMoviesMarkup)(e)})).catch((function(e){return(0,i.setErrorMessage)(e.message)})))})).catch((function(e){return(0,i.setErrorMessage)(e.message)}))}();
//# sourceMappingURL=index.2a6ca51f.js.map
