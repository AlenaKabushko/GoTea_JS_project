var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a),a("lkfBv"),a("lkfBv"),a("2ix2C");var n=a("04jNI"),s=a("7iYtU"),o=a("5A2tN");function u(e){const t=function(){let e='<select><option value="Genres">Genres</option><option value="None">None</option>';return e+=requestData.genres.map((({id:e,name:t})=>`<option value="${e}">${t}</option>`)).join(""),e+="</select>",e}();document.querySelector(`.custom-multi-select.${e}`).innerHTML=t,(0,s.createCustomMultiSelect)(),(0,s.createCustomOneSelect)()}document.querySelector(".filter-btn-use").addEventListener("click",(function(e){requestData.idxYears=(0,s.getOptionNum)("filter-years");const t=(0,s.getOption)("filter-years");requestData.valuesGenres=(0,s.getMultiOption)("filter-genres"),requestData.page=1,requestData.discover="",requestData.valuesGenres.length&&(requestData.discover=`&with_genres=${requestData.valuesGenres}`),requestData.discover+=t,requestData.discover?getServerData(requestTypes.DISCOVER).then((e=>{d.currentPage=1,d.setTotalPages(Math.min(500,e.total_pages)),renderMoviesMarkup(e)})):getServerData(requestTypes.TRENDING).then((e=>{d.currentPage=1,d.setTotalPages(Math.min(500,e.total_pages)),renderMoviesMarkup(e)}))}));document.querySelector(".filter-btn-reset").addEventListener("click",(function(e){(0,s.setOption)(o.classYears,0),(0,s.setMultiOption)(o.classGenres,""),requestTypes.page=1,getServerData(requestTypes.TRENDING).then((e=>{d.currentPage=1,d.setTotalPages(Math.min(500,e.total_pages)),renderMoviesMarkup(e)}))}));document.querySelector(".header__navigation-button-filter").addEventListener("click",(function(e){document.querySelector(".filter__container").classList.toggle("visually-hidden")}));const i=document.querySelector(".header__form-button"),l=document.querySelector(".header__form-input");document.querySelector(".header__text-warning");i.addEventListener("click",(function(e){e.preventDefault(),""!==l.value&&" "!==l.value&&(requestData.search=`${l.value}`,requestData.page=1,getServerData(requestTypes.SEARCH).then((e=>{(0,n.spinnerOn)(),d.currentPage=1,d.setTotalPages(Math.min(500,e.total_pages)),renderMoviesMarkup(e),l.value=""})))})),a("7iYtU");o=a("5A2tN");a("fCLtP");var c=a("bOFJ0");c=a("bOFJ0");a("04jNI"),a("70dOu"),a("k1Hfy"),a("h53OD");var g=a("2nhTy");o=a("5A2tN");const d=new(0,g.Pagination)(document.getElementById("pagination"),{countPoint:5,totalPages:10,onShow:function(e){requestData.page=e,getNextServerData().then((e=>{renderMoviesMarkup(e)}))}});getServerData(requestTypes.GENRE).then((e=>{requestData.genres=e.genres,u("filter-genres")})).then((()=>{let e=(0,c.load)("config");e?(requestData={...e.requestData},d.currentPage=requestData.page,getNextServerData().then((e=>{d.setTotalPages(Math.min(500,e.total_pages)),renderMoviesMarkup(e)}))):(console.log(!1),requestData.page=1,getServerData(requestTypes.TRENDING).then((e=>{requestData.movies=e,d.currentPage=1,d.setTotalPages(Math.min(500,e.total_pages)),(0,o.saveConfig)(),renderMoviesMarkup(e)})))}));
//# sourceMappingURL=index.d1b75f82.js.map
