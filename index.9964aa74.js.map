{"mappings":"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","sources":["src/index.js","src/js/search.js","src/js/filter.js"],"sourcesContent":["import './js/fetchUrl';\nimport {\n  requestData,\n  requestTypes,\n  getServerData,\n  getNextServerData,\n  renderMoviesMarkup,\n} from './js/fetchUrl';\nimport './js/firebase';\nimport './js/search';\nimport './js/select';\nimport './js/filter';\nimport { fillGenresFiltr } from './js/filter';\nimport './js/gallery-card-modal';\nimport { save, load } from './js/localstorage';\nimport './js/localstorage';\nimport './js/spinner';\nimport './js/modal-teem';\nimport './js/switcherTheme';\nimport './js/button-up';\nimport { Pagination } from './js/pagination';\n\nconst PaginationInstnce = new Pagination(\n  document.getElementById('pagination'),\n  {\n    countPoint: 5,\n    totalPages: 10,\n    onShow: paginationOnClick,\n  }\n);\n\nfunction paginationOnClick(pageNumber) {\n  console.log(pageNumber);\n\n  requestData.page = pageNumber;\n  getNextServerData().then(movies => {\n    renderMoviesMarkup(movies);\n  });\n}\n\ngetServerData(requestTypes.GENRE)\n  .then(data => {\n    requestData.genres = data.genres;\n    fillGenresFiltr('filter-genres');\n  })\n  .then(() => {\n    let config = load('config');\n    if (config) {\n      requestData.page = config.requestData.page;\n      requestData.request = config.requestData.request;\n      requestData.discover = config.requestData.discover;\n      requestData.id = config.requestData.id;\n      requestData.search = config.requestData.search;\n      requestData.movies = config.requestData.movies;\n      requestData.genres = config.requestData.genres;\n      requestData.movie = config.requestData.movie;\n      requestData.videos = config.requestData.videos;\n\n      PaginationInstnce.currentPage = requestData.page;\n      getNextServerData().then(movies => {\n        PaginationInstnce.setTotalPages(movies.total_pages);\n        renderMoviesMarkup(movies);\n      });\n    } else {\n      console.log(false);\n      requestData.page = 1;\n      getServerData(requestTypes.TRENDING).then(movies => {\n        requestData.movies = movies;\n        PaginationInstnce.setTotalPages(movies.total_pages);\n        saveConfig();\n        renderMoviesMarkup(movies);\n      });\n    }\n  });\n","import {\n  requestData,\n  requestTypes,\n  getServerData,\n  renderMoviesMarkup,\n  markupList,\n} from './fetchUrl.js';\n\nimport { spinnerOn, spinnerOff } from './spinner';\nimport { fillGenresFiltr } from './filter';\nimport { makePagination, makePaginationBtn } from './pagination';\n// --------------------------\nconst searchBtn = document.querySelector('.header__form-button');\nconst searchInput = document.querySelector('.header__form-input');\nconst headerSearchError = document.querySelector('.header__text-warning');\n\nsearchBtn.addEventListener('click', e => {\n  e.preventDefault();\n  if (searchInput.value !== '' && searchInput.value !== ' ') {\n    requestData.search = `${searchInput.value}`;\n    requestData.page = 1;\n    getServerData(requestTypes.SEARCH).then(movies => {\n      renderMoviesMarkup(movies);\n      searchInput.value = '';\n      /* if (( )) {\n        console.log('FUCK');\n      } */\n    });\n  } else {\n    return;\n  }\n});\n/* console.log(markupList); */\n","import {\n  createCustomOneSelect,\n  setOption,\n  getOption,\n  createCustomMultiSelect,\n  getMultiOption,\n} from './select.js';\n\nimport {\n  requestData,\n  requestTypes,\n  getServerData,\n  renderMoviesMarkup,\n} from './fetchUrl.js';\n\ncreateCustomOneSelect();\n\nexport function fillGenresFiltr(classSelect) {\n  const markup = markupFilterGenres();\n  const select = document.querySelector(`.custom-multi-select.${classSelect}`);\n  select.innerHTML = markup;\n  createCustomMultiSelect();\n}\n\nfunction markupFilterGenres() {\n  let markup =\n    '<select><option value=\"Genres\">Genres</option><option value=\"None\">None</option>';\n  markup += requestData.genres\n    .map(({ id, name }) => `<option value=\"${id}\">${name}</option>`)\n    .join('');\n  markup += '</select>';\n  return markup;\n}\n\nconst filterBtn = document.querySelector('.filter-btn');\nfilterBtn.addEventListener('click', function (e) {\n  const filterYears = getOption('filter-years');\n  const filterGendes = getMultiOption('filter-genres');\n  requestData.page = 1;\n  requestData.discover = '';\n  if (filterGendes.length) {\n    requestData.discover = `&with_genres=${filterGendes}`;\n  }\n  requestData.discover += filterYears;\n  if (requestData.discover) {\n    getServerData(requestTypes.DISCOVER).then(movies => {\n      renderMoviesMarkup(movies);\n    });\n  } else {\n    getServerData(requestTypes.TRENDING).then(movies => {\n      renderMoviesMarkup(movies);\n    });\n  }\n});\n\nconst filterNavBtn = document.querySelector(\n  '.header__navigation-button-filter'\n);\nfilterNavBtn.addEventListener('click', function (e) {\n  const filterContainer = document.querySelector('.filter__container');\n  filterContainer.classList.toggle('visually-hidden');\n});\n"],"names":["$lkfBv","parcelRequire","$7iYtU","$cc8167df025acb14$export$c2088fd8b3d8e2d2","classSelect","markup","requestData","genres","map","id","name","join","$cc8167df025acb14$var$markupFilterGenres","document","querySelector","innerHTML","createCustomMultiSelect","createCustomOneSelect","addEventListener","e","filterYears","getOption","filterGendes","getMultiOption","page","discover","length","getServerData","requestTypes","DISCOVER","then","movies","renderMoviesMarkup","TRENDING","classList","toggle","$b18fd23e9761f35d$var$searchBtn","$b18fd23e9761f35d$var$searchInput","preventDefault","value","search","SEARCH","$1f0dc3b9307be026$var$PaginationInstnce","Pagination","getElementById","countPoint","totalPages","onShow","pageNumber","console","log","getNextServerData","GENRE","data","config","$bOFJ0","load","request","movie","videos","currentPage","setTotalPages","total_pages","saveConfig"],"version":3,"file":"index.9964aa74.js.map"}