var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var s={id:e,exports:{}};return t[e]=s,r.call(s.exports,s,s.exports),s.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=r);var s=r("lkfBv");r("2ix2C");r("lkfBv");var n=r("04jNI"),o=(s=r("lkfBv"),r("7iYtU")),u=r("5A2tN"),i=r("43jeg");function c(e){const t=function(){let e='<select><option value="Genres">Genres</option><option value="None">None</option>';return e+=s.requestData.genres.map((({id:e,name:t})=>`<option value="${e}">${t}</option>`)).join(""),e+="</select>",e}();document.querySelector(`.custom-multi-select.${e}`).innerHTML=t,(0,o.createCustomMultiSelect)(),(0,o.createCustomOneSelect)()}document.querySelector(".filter-btn-use").addEventListener("click",(function(e){s.requestData.idxYears=(0,o.getOptionNum)("filter-years");const t=(0,o.getOption)("filter-years");s.requestData.valuesGenres=(0,o.getMultiOption)("filter-genres"),s.requestData.page=1,s.requestData.discover="",s.requestData.valuesGenres.length&&(s.requestData.discover=`&with_genres=${s.requestData.valuesGenres}`),s.requestData.discover+=t,s.requestData.discover?(0,s.getServerData)(s.requestTypes.DISCOVER).then((e=>{p.currentPage=1,p.setTotalPages(Math.min(500,e.total_pages)),(0,s.renderMoviesMarkup)(e)})).catch((e=>(0,i.setErrorMessage)(e.message))):(0,s.getServerData)(s.requestTypes.TRENDING).then((e=>{p.currentPage=1,p.setTotalPages(Math.min(500,e.total_pages)),(0,s.renderMoviesMarkup)(e)})).catch((e=>(0,i.setErrorMessage)(e.message)))}));document.querySelector(".filter-btn-reset").addEventListener("click",(function(e){(0,o.setOption)(u.classYears,0),(0,o.setMultiOption)(u.classGenres,""),s.requestTypes.page=1,(0,s.getServerData)(s.requestTypes.TRENDING).then((e=>{p.currentPage=1,p.setTotalPages(Math.min(500,e.total_pages)),(0,s.renderMoviesMarkup)(e)})).catch((e=>(0,i.setErrorMessage)(e.message)))}));document.querySelector(".header__navigation-button-filter").addEventListener("click",(function(e){document.querySelector(".filter__container").classList.toggle("visually-hidden")}));i=r("43jeg");const l=document.querySelector(".header__form-button"),g=document.querySelector(".header__form-input");document.querySelector(".header__text-warning");l.addEventListener("click",(function(e){e.preventDefault(),""!==g.value&&" "!==g.value&&(s.requestData.search=`${g.value}`,s.requestData.page=1,(0,s.getServerData)(s.requestTypes.SEARCH).then((e=>{(0,n.spinnerOn)(),p.currentPage=1,p.setTotalPages(Math.min(500,e.total_pages)),(0,s.renderMoviesMarkup)(e),g.value=""})).catch((e=>(0,i.setErrorMessage)(e.message))))})),r("7iYtU");u=r("5A2tN");r("fCLtP");var d=r("bOFJ0");d=r("bOFJ0");r("04jNI"),r("70dOu"),r("k1Hfy"),r("h53OD");var v=r("2nhTy");u=r("5A2tN"),i=r("43jeg"),i=r("43jeg");const p=new(0,v.Pagination)(document.getElementById("pagination"),{countPoint:5,totalPages:10,onShow:function(e){s.requestData.page=e,(0,s.getNextServerData)().then((e=>{(0,s.renderMoviesMarkup)(e)}))}});(0,s.getServerData)(s.requestTypes.GENRE).then((e=>{s.requestData.genres=e.genres,c("filter-genres")})).then((()=>{let e=(0,d.load)("config");e?(s.requestData.page=e.requestData.page,s.requestData.request=e.requestData.request,s.requestData.discover=e.requestData.discover,s.requestData.id=e.requestData.id,s.requestData.search=e.requestData.search,s.requestData.movies=e.requestData.movies,s.requestData.genres=e.requestData.genres,s.requestData.movie=e.requestData.movie,s.requestData.videos=e.requestData.videos,p.currentPage=s.requestData.page,(0,s.getNextServerData)().then((e=>{p.setTotalPages(Math.min(500,e.total_pages)),(0,s.renderMoviesMarkup)(e)})).catch((e=>(0,i.setErrorMessage)(e.message)))):(s.requestData.page=1,(0,s.getServerData)(s.requestTypes.TRENDING).then((e=>{s.requestData.movies=e,p.currentPage=1,p.setTotalPages(Math.min(500,e.total_pages)),(0,u.saveConfig)(),(0,s.renderMoviesMarkup)(e)})).catch((e=>(0,i.setErrorMessage)(e.message))))})).catch((e=>(0,i.setErrorMessage)(e.message)));
//# sourceMappingURL=index.0a3fd851.js.map
