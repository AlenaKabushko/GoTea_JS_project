{"mappings":"gfAAAA,EAAA,S,wFCAA,IAAAC,EAAAD,EAAA,S,sDAMME,EAAkBC,SAASC,cAC/B,wCAGIC,EAAgBF,SAASC,cAC7B,wCAGIE,EAAYH,SAASC,cAAc,kBA4GzC,SAASG,IACPD,EAAUE,UAAY,E,CA3GxBN,EAAgBO,iBAAiB,SAGjC,WACEF,IA2GAL,EAAgBQ,aAAa,WAAY,YACzCL,EAAcM,gBAAgB,aA1G9B,EAAAC,EAAAC,aACA,IAAIC,GAAU,EAAAb,EAAAc,MAAK,WACnB,IAAKD,EAAQE,OAEX,YADA,EAAAJ,EAAAK,cAIF,IAAIC,EAASJ,EACVK,KACC,SAAAC,G,IACEC,EAAcD,EAAdC,eACAC,EAAWF,EAAXE,YACAC,EAAYH,EAAZG,aACAC,EAAEJ,EAAFI,GACAC,EAASL,EAATK,UACAC,EAAYN,EAAZM,aAEIC,EAAc,GAOlB,OALEA,EADEL,EACW,mCAA+CM,OAAZN,GAG9C,8FAEG,wCAGQM,OAHgCJ,EAAG,0GAInCI,OADAD,EAAW,4BAKcC,OAJzBP,EAAe,4HAMaO,OAFHL,EAAaM,QAAQ,GAAG,6GAIvBD,OAFEP,EAAe,6GAGhBO,OADDH,EAAU,0DACIG,OAAbF,EAAa,sE,IAM1DI,KAAK,IACRxB,EAAUyB,mBAAmB,aAAcb,IAC3C,EAAAN,EAAAK,eACA,EAAAe,EAAAC,2B,IAnDF5B,EAAcI,iBAAiB,SAsD/B,WACEF,IA4DAF,EAAcK,aAAa,WAAY,YACvCR,EAAgBS,gBAAgB,aA3DhC,EAAAC,EAAAC,aACA,IAAIqB,GAAQ,EAAAjC,EAAAc,MAAK,SACjB,IAAKmB,EAAMlB,OAET,YADA,EAAAJ,EAAAK,cAGF,IAAIC,EAASgB,EACVf,KACC,SAAAC,G,IACEC,EAAcD,EAAdC,eACAC,EAAWF,EAAXE,YACAC,EAAYH,EAAZG,aACAC,EAAEJ,EAAFI,GACAC,EAASL,EAATK,UACAC,EAAYN,EAAZM,aAEIC,EAAc,GAOlB,OALEA,EADEL,EACW,mCAA+CM,OAAZN,GAG9C,8FAEG,wCAGQM,OAHgCJ,EAAG,wGAInCI,OADAD,EAAW,4BAKcC,OAJzBP,EAAe,4HAMaO,OAFHL,EAAaM,QAAQ,GAAG,6GAIvBD,OAFEP,EAAe,6GAGhBO,OADDH,EAAU,0DACIG,OAAbF,EAAa,sE,IAM1DI,KAAK,IACRxB,EAAUyB,mBAAmB,aAAcb,IAC3C,EAAAN,EAAAK,eACA,EAAAe,EAAAC,2B","sources":["src/library.js","src/js/lib-render.js"],"sourcesContent":["import './js/fetchUrl';\nimport './js/localstorage';\nimport './js/firebase';\nimport './js/gallery-card-modal';\nimport './js/spinner';\nimport './js/modal-teem';\nimport './js/pagination';\nimport './js/switcherTheme';\nimport './js/button-up';\nimport './js/lib-render';\n","import { load, save, remove } from './localstorage';\nimport { setGalleryClickListeners } from './gallery-card-modal';\nimport { makePagination, makePaginationBtn } from './pagination';\nimport { setGalleryClickListeners } from './gallery-card-modal';\nimport { spinnerOn, spinnerOff } from './spinner';\n\nconst libWatchedBtnEl = document.querySelector(\n  '.header__library-button > .btn-watch'\n);\n\nconst libQueueBtnEl = document.querySelector(\n  '.header__library-button > .btn-queue'\n);\n\nconst galleryEl = document.querySelector('.films-gallery');\n\nlibWatchedBtnEl.addEventListener('click', onlibWatchedBtnEl);\nlibQueueBtnEl.addEventListener('click', onlibQueueBtnEl);\n\nfunction onlibWatchedBtnEl() {\n  clear();\n  changeWatchActiveBtn();\n  spinnerOn();\n  let watched = load('watched');\n  if (!watched.length) {\n    spinnerOff();\n    return;\n  }\n\n  let markup = watched\n    .map(\n      ({\n        original_title,\n        poster_path,\n        vote_average,\n        id,\n        genre_ids,\n        release_date,\n      }) => {\n        let posterPath = ``;\n        if (poster_path) {\n          posterPath = `https://image.tmdb.org/t/p/w400/${poster_path}`;\n        } else {\n          posterPath =\n            'https://cdn.create.vista.com/api/media/small/324908572/stock-vector-3d-cinema-film-strip-in';\n        }\n        return `<li class='films-gallery__item' key='${id}' type='watched'>\n            <img\n                class='films-gallery__img'\n                src='${posterPath}'\n                alt='${original_title}'\n                width\n                loading='lazy'\n            />\n            <span class='films-gallery__rate'>${vote_average.toFixed(1)}</span>\n            <div class='films-gallery__wrap'>\n                <h2 class='films-gallery__title'>${original_title}</h2>\n                <div class='films-gallery__info'>\n                <p class='films-gallery__text'>${genre_ids}</p>\n                <p class='films-gallery__age'>| ${release_date}</p>\n                </div>\n            </div>\n            </li>`;\n      }\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('afterbegin', markup);\n  spinnerOff();\n  setGalleryClickListeners();\n}\n\nfunction onlibQueueBtnEl() {\n  clear();\n  changeQueueActiveBtn();\n  spinnerOn();\n  let queue = load('queue');\n  if (!queue.length) {\n    spinnerOff();\n    return;\n  }\n  let markup = queue\n    .map(\n      ({\n        original_title,\n        poster_path,\n        vote_average,\n        id,\n        genre_ids,\n        release_date,\n      }) => {\n        let posterPath = ``;\n        if (poster_path) {\n          posterPath = `https://image.tmdb.org/t/p/w400/${poster_path}`;\n        } else {\n          posterPath =\n            'https://cdn.create.vista.com/api/media/small/324908572/stock-vector-3d-cinema-film-strip-in';\n        }\n        return `<li class='films-gallery__item' key='${id}' type='queue'>\n            <img\n                class='films-gallery__img'\n                src='${posterPath}'\n                alt='${original_title}'\n                width\n                loading='lazy'\n            />\n            <span class='films-gallery__rate'>${vote_average.toFixed(1)}</span>\n            <div class='films-gallery__wrap'>\n                <h2 class='films-gallery__title'>${original_title}</h2>\n                <div class='films-gallery__info'>\n                <p class='films-gallery__text'>${genre_ids}</p>\n                <p class='films-gallery__age'>| ${release_date}</p>\n                </div>\n            </div>\n            </li>`;\n      }\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('afterbegin', markup);\n  spinnerOff();\n  setGalleryClickListeners();\n}\n\nfunction clear() {\n  galleryEl.innerHTML = '';\n}\n\nfunction changeWatchActiveBtn() {\n  libWatchedBtnEl.setAttribute('disabled', 'disabled');\n  libQueueBtnEl.removeAttribute('disabled');\n}\n\nfunction changeQueueActiveBtn() {\n  libQueueBtnEl.setAttribute('disabled', 'disabled');\n  libWatchedBtnEl.removeAttribute('disabled');\n}\n"],"names":["parcelRequire","$6Sco9","$f89fe940a5f093f5$var$libWatchedBtnEl","document","querySelector","$f89fe940a5f093f5$var$libQueueBtnEl","$f89fe940a5f093f5$var$galleryEl","$f89fe940a5f093f5$var$clear","innerHTML","addEventListener","setAttribute","removeAttribute","$j1lrD","spinnerOn","watched","load","length","spinnerOff","markup","map","param","original_title","poster_path","vote_average","id","genre_ids","release_date","posterPath","concat","toFixed","join","insertAdjacentHTML","$3wJrr","setGalleryClickListeners","queue"],"version":3,"file":"library.ed6cc9e9.js.map"}