{"mappings":"oeAAAA,EAAA,S,wFCAA,IAAAC,EAAAD,EAAA,S,sDAMA,MAAME,EAAkBC,SAASC,cAC/B,wCAGIC,EAAgBF,SAASC,cAC7B,wCAGIE,EAAYH,SAASC,cAAc,kBA4GzC,SAASG,IACPD,EAAUE,UAAY,E,CA3GxBN,EAAgBO,iBAAiB,SAGjC,WACEF,IA2GAL,EAAgBQ,aAAa,WAAY,YACzCL,EAAcM,gBAAgB,aA1G9B,EAAAC,EAAAC,aACA,IAAIC,GAAU,EAAAb,EAAAc,MAAK,WACnB,IAAKD,EAAQE,OAEX,YADA,EAAAJ,EAAAK,cAIF,IAAIC,EAASJ,EACVK,KACC,EAACC,eACCA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,GACZA,EAAEC,UACFA,EAASC,aACTA,MAEA,IAAIC,EAAa,GAOjB,OALEA,EADEL,EACW,mCAAmCA,IAG9C,8FAEG,wCAAwCE,0GAGhCG,4BACAN,4HAIyBE,EAAaK,QAAQ,8GAElBP,6GAEFI,0DACCC,sEAGhC,IAGbG,KAAK,IACRtB,EAAUuB,mBAAmB,aAAcX,IAC3C,EAAAN,EAAAK,eACA,EAAAa,EAAAC,2B,IAnDF1B,EAAcI,iBAAiB,SAsD/B,WACEF,IA4DAF,EAAcK,aAAa,WAAY,YACvCR,EAAgBS,gBAAgB,aA3DhC,EAAAC,EAAAC,aACA,IAAImB,GAAQ,EAAA/B,EAAAc,MAAK,SACjB,IAAKiB,EAAMhB,OAET,YADA,EAAAJ,EAAAK,cAGF,IAAIC,EAASc,EACVb,KACC,EAACC,eACCA,EAAcC,YACdA,EAAWC,aACXA,EAAYC,GACZA,EAAEC,UACFA,EAASC,aACTA,MAEA,IAAIC,EAAa,GAOjB,OALEA,EADEL,EACW,mCAAmCA,IAG9C,8FAEG,wCAAwCE,wGAGhCG,4BACAN,4HAIyBE,EAAaK,QAAQ,8GAElBP,6GAEFI,0DACCC,sEAGhC,IAGbG,KAAK,IACRtB,EAAUuB,mBAAmB,aAAcX,IAC3C,EAAAN,EAAAK,eACA,EAAAa,EAAAC,2B","sources":["src/library.js","src/js/lib-render.js"],"sourcesContent":["import './js/fetchUrl';\nimport './js/localstorage';\nimport './js/firebase';\nimport './js/gallery-card-modal';\nimport './js/spinner';\nimport './js/modal-teem';\nimport './js/pagination';\nimport './js/switcherTheme';\nimport './js/button-up';\n// import './js/library-render';\nimport './js/lib-render';\n","import { load, save, remove } from './localstorage';\nimport { setGalleryClickListeners } from './gallery-card-modal';\nimport { makePagination, makePaginationBtn } from './pagination';\nimport { setGalleryClickListeners } from './gallery-card-modal';\nimport { spinnerOn, spinnerOff } from './spinner';\n\nconst libWatchedBtnEl = document.querySelector(\n  '.header__library-button > .btn-watch'\n);\n\nconst libQueueBtnEl = document.querySelector(\n  '.header__library-button > .btn-queue'\n);\n\nconst galleryEl = document.querySelector('.films-gallery');\n\nlibWatchedBtnEl.addEventListener('click', onlibWatchedBtnEl);\nlibQueueBtnEl.addEventListener('click', onlibQueueBtnEl);\n\nfunction onlibWatchedBtnEl() {\n  clear();\n  changeWatchActiveBtn();\n  spinnerOn();\n  let watched = load('watched');\n  if (!watched.length) {\n    spinnerOff();\n    return;\n  }\n\n  let markup = watched\n    .map(\n      ({\n        original_title,\n        poster_path,\n        vote_average,\n        id,\n        genre_ids,\n        release_date,\n      }) => {\n        let posterPath = ``;\n        if (poster_path) {\n          posterPath = `https://image.tmdb.org/t/p/w400/${poster_path}`;\n        } else {\n          posterPath =\n            'https://cdn.create.vista.com/api/media/small/324908572/stock-vector-3d-cinema-film-strip-in';\n        }\n        return `<li class='films-gallery__item' key='${id}' type='watched'>\n            <img\n                class='films-gallery__img'\n                src='${posterPath}'\n                alt='${original_title}'\n                width\n                loading='lazy'\n            />\n            <span class='films-gallery__rate'>${vote_average.toFixed(1)}</span>\n            <div class='films-gallery__wrap'>\n                <h2 class='films-gallery__title'>${original_title}</h2>\n                <div class='films-gallery__info'>\n                <p class='films-gallery__text'>${genre_ids}</p>\n                <p class='films-gallery__age'>| ${release_date}</p>\n                </div>\n            </div>\n            </li>`;\n      }\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('afterbegin', markup);\n  spinnerOff();\n  setGalleryClickListeners();\n}\n\nfunction onlibQueueBtnEl() {\n  clear();\n  changeQueueActiveBtn();\n  spinnerOn();\n  let queue = load('queue');\n  if (!queue.length) {\n    spinnerOff();\n    return;\n  }\n  let markup = queue\n    .map(\n      ({\n        original_title,\n        poster_path,\n        vote_average,\n        id,\n        genre_ids,\n        release_date,\n      }) => {\n        let posterPath = ``;\n        if (poster_path) {\n          posterPath = `https://image.tmdb.org/t/p/w400/${poster_path}`;\n        } else {\n          posterPath =\n            'https://cdn.create.vista.com/api/media/small/324908572/stock-vector-3d-cinema-film-strip-in';\n        }\n        return `<li class='films-gallery__item' key='${id}' type='queue'>\n            <img\n                class='films-gallery__img'\n                src='${posterPath}'\n                alt='${original_title}'\n                width\n                loading='lazy'\n            />\n            <span class='films-gallery__rate'>${vote_average.toFixed(1)}</span>\n            <div class='films-gallery__wrap'>\n                <h2 class='films-gallery__title'>${original_title}</h2>\n                <div class='films-gallery__info'>\n                <p class='films-gallery__text'>${genre_ids}</p>\n                <p class='films-gallery__age'>| ${release_date}</p>\n                </div>\n            </div>\n            </li>`;\n      }\n    )\n    .join('');\n  galleryEl.insertAdjacentHTML('afterbegin', markup);\n  spinnerOff();\n  setGalleryClickListeners();\n}\n\nfunction clear() {\n  galleryEl.innerHTML = '';\n}\n\nfunction changeWatchActiveBtn() {\n  libWatchedBtnEl.setAttribute('disabled', 'disabled');\n  libQueueBtnEl.removeAttribute('disabled');\n}\n\nfunction changeQueueActiveBtn() {\n  libQueueBtnEl.setAttribute('disabled', 'disabled');\n  libWatchedBtnEl.removeAttribute('disabled');\n}\n"],"names":["parcelRequire","$bOFJ0","$66c5405896220c4d$var$libWatchedBtnEl","document","querySelector","$66c5405896220c4d$var$libQueueBtnEl","$66c5405896220c4d$var$galleryEl","$66c5405896220c4d$var$clear","innerHTML","addEventListener","setAttribute","removeAttribute","$04jNI","spinnerOn","watched","load","length","spinnerOff","markup","map","original_title","poster_path","vote_average","id","genre_ids","release_date","posterPath","toFixed","join","insertAdjacentHTML","$fCLtP","setGalleryClickListeners","queue"],"version":3,"file":"library.c583ec68.js.map"}